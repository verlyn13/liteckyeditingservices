# Cloudflare Pages configuration (code-first)
# Docs: https://developers.cloudflare.com/pages/functions/wrangler-configuration/

name = "liteckyeditingservices"
compatibility_date = "2025-09-30"
pages_build_output_dir = "./dist"
compatibility_flags = ["nodejs_compat"]

[observability]
enabled = true

# Queue producer binding for async email processing
[[queues.producers]]
queue = "send-email-queue"
binding = "SEND_EMAIL"

# Shared vars (apply to local dev, inherited by production/preview)
[vars]
POSTAL_FROM_EMAIL = "contact@liteckyeditingservices.com"
POSTAL_TO_EMAIL = "ahnie@liteckyeditingservices.com"

# Production environment
# Note: POSTAL_API_KEY is a secret, set via: wrangler pages secret put POSTAL_API_KEY
[env.production.vars]
ENVIRONMENT = "production"
POSTAL_FROM_EMAIL = "contact@liteckyeditingservices.com"
POSTAL_TO_EMAIL = "ahnie@liteckyeditingservices.com"

# Preview environment
# Note: POSTAL_API_KEY is a secret, set via: wrangler pages secret put POSTAL_API_KEY
[env.preview.vars]
ENVIRONMENT = "preview"
POSTAL_FROM_EMAIL = "contact@liteckyeditingservices.com"
POSTAL_TO_EMAIL = "ahnie@liteckyeditingservices.com"
